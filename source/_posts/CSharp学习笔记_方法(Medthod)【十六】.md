---
title: C#(CSharp)学习笔记_方法(Medthod)【十六】
date: 2024-05-01 23:29:50
cover: img/cover/csharp.jpg           # 设置文章封面
tags:                                 # 添加分类
- C#
- .NET
- 开发工具
categories:  
- 学习笔记
- CSharp
---


## 什么是方法？
1. 在编程中，方法（Method）是一个执行特定操作的代码块。它是一种将逻辑封装起来的方式，使得代码更加模块化、重用性更高，并且易于维护。以下是方法的一些关键特性：

 - 封装性：方法将一系列的操作封装在一起，形成一个单一的单元。

- 命名：每个方法都有一个名字，以便于调用和引用。

- 参数：方法可以接受输入参数，这些参数允许方法根据传入的数据执行不同的操作。

- 返回值：方法可以返回一个值，这个值的类型由方法的返回类型定义。有些方法不返回任何值，这些方法的返回类型通常是 void。

- 作用域：方法的作用域由其定义的位置决定。在类中定义的方法只能由该类的实例调用，除非它们被声明为 static（静态的），这样它们就可以被类直接调用，而不需要创建类的实例。

- 重载：可以在同一个类中定义多个同名的方法，只要它们的参数列表不同（参数的数量、类型或顺序不同），这称为方法的重载。

 - 可访问性：方法的可访问性由其访问修饰符决定，如 public、private、protected 等。

- 异常处理：方法可以处理异常，即在执行过程中可能发生的错误情况。

- 多态性：在面向对象编程中，方法可以被重写（Override），这是多态性的一种形式，允许子类提供其自己的实现方式。

- 递归：方法可以调用自身，这种技术称为递归，它在解决某些类型的问题（如算法问题）时非常有用。

2. 在C#中，方法的声明通常如下所示：
```csharp

[access-modifier] [return-type] MethodName([parameter-list])
{
    // 方法体
}
```
例如：

```csharp
public int Add(int a, int b)
{
    return a + b; // 返回两个数的和
}
```
在这个例子中，Add 是一个公共方法（public），它接受两个整数参数并返回它们的和。这个方法可以被任何可以访问它的对象调用。

方法的使用可以大大简化编程任务，因为它们允许你将复杂的逻辑分解成更小、更易于管理的部分。
在C#编程语言中，方法（Method）是执行特定任务的代码块。方法允许你将逻辑封装起来，以便可以在程序的多个地方重复使用，而不必每次都重写相同的代码。方法可以带参数，这些参数允许你自定义方法的行为，并且可以返回一个值。

## 方法的定义
1. 方法由访问修饰符、返回类型、方法名、参数列表（可选）和方法体组成。

```csharp
public int CalculateSum(int a, int b)
{
    return a + b;
}
```
2. 在上面的例子中，CalculateSum是一个公共方法（public），它返回一个int类型的值，并且接受两个int类型的参数。

## 方法的访问修饰符
- **public**：方法可以被任何其他类访问。
- **private**：方法只能在定义它的类内部访问。
- **protected**：方法只能在定义它的类及其派生类中访问。
- **internal**：方法只能在当前程序集（Assembly）中访问。
## 参数和返回类型
1. 方法可以有零个或多个参数，参数是方法执行时所需的输入。方法还可以指定返回类型，表示方法执行完毕后返回的值的类型。

```csharp
public string Concatenate(string str1, string str2)
{
    return str1 + str2;
}
```
2. 在这个例子中，Concatenate方法接受两个字符串参数，并返回它们的连接结果。

## 重载方法
1. C#支持方法重载，即允许在同一个类中定义多个同名的方法，只要它们的参数列表不同（参数的类型、数量或顺序不同）。

```csharp
public int Add(int a, int b)
{
    return a + b;
}
```
```csharp
public int Add(int a, int b, int c)
{
    return a + b + c;
}
```
## 静态方法与实例方法
- **静态方法**：使用static关键字定义，它们属于类而不是类的实例。静态方法不能访问非静态成员。
- **实例方法**：不需要static关键字，它们属于类的具体实例，并且可以访问类的非静态成员。

```csharp
public class Calculator
{
    public static int Add(int a, int b)
    {
        return a + b;
    }

    public int Multiply(int a, int b)
    {
        return a * b;
    }
}
```
## 扩展方法
1. 扩展方法是C#的一个特性，允许为现有类型“添加”新的方法而不需要修改其源代码。扩展方法是一个静态方法，它们定义在静态类中，并且第一个参数使用this关键字修饰，表示扩展方法所扩展的类型。

```csharp
public static class StringExtensions
{
    public static int CountWords(this string str)
    {
        return str.Split(new char[] { ' ', '.', '?' }, StringSplitOptions.RemoveEmptyEntries).Length;
    }
}
```
2. 在上面的例子中，我们为string类型添加了一个名为CountWords的扩展方法。

## Lambda表达式和委托
1. C#中的委托（Delegate）是一种特殊的类型，它可以持有对方法的引用。Lambda表达式提供了一种简写委托的方式。
2. 
```csharp
Func<int, int, int> addDelegate = (a, b) => a + b;
int result = addDelegate(5, 3); // result is 8
```
## 方法的高级特性
1. C#还提供了一些方法的高级特性，如：

- **泛型方法**：允许方法操作类型安全的泛型数据。
- **迭代器方法**：使用yield关键字，允许方法返回一系列的值。
- **异步方法**：使用async和await关键字，允许方法在等待异步操作完成时释放执行线程。
##  使用场景
1. 方法在C#编程中无处不在，它们用于：

- 实现业务逻辑。
- 执行数据操作，如排序、搜索等。
- 处理用户界面事件。
- 与外部资源交互，如文件系统、数据库、网络服务等。
## 最佳实践
单一职责原则：每个方法应该只做一件事情。
清晰命名：方法名应该清晰地表达其功能。
参数验证：在方法内部检查参数的有效性。
异常处理：适当地使用异常来处理错误情况。
## 结语
C#的方法是构建应用程序的基本构建块，它们使得代码更加模块化、可重用和易于维护。理解并正确使用方法对于成为一名优秀的C#程序员至关重要。

声明 | 文章由AI辅助创作